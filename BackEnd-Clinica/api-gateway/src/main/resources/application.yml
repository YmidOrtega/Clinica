server:
  port: 8080

eureka:
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka/
  instance:
    instance-id: ${spring.application.name}:${spring.application.instance_id:${random.value}}
    prefer-ip-address: true
    lease-renewal-interval-in-seconds: 5
    lease-expiration-duration-in-seconds: 10

resilience4j:
  retry:
    instances:
      public-key-retry:
        max-attempts: 5
        wait-duration: 2s
        retry-exceptions:
          - org.springframework.web.reactive.function.client.WebClientRequestException

# Configuración de Swagger/OpenAPI
springdoc:
  api-docs:
    path: /api-docs
    enabled: true
  swagger-ui:
    path: /swagger-ui.html
    enabled: true
    try-it-out-enabled: true
    operations-sorter: method
    tags-sorter: alpha
    filter: true
    doc-expansion: none
    urls:
      - name: "API Gateway"
        url: "/api-docs"
      - name: "Auth Service"
        url: "/v3/api-docs/auth-service"
      - name: "Patient Service"
        url: "/v3/api-docs/patient-service"
      - name: "Billing Service"
        url: "/v3/api-docs/billing-service"
      - name: "Admissions Service"
        url: "/v3/api-docs/admissions-service"
      - name: "AI Assistant Service"
        url: "/v3/api-docs/ai-assistant-service"
      - name: "Suppliers Service"
        url: "/v3/api-docs/suppliers-service"
      - name: "Clients Service"
        url: "/v3/api-docs/clients-service"
  show-actuator: true
  cache:
    disabled: false
  group-configs:
    - group: auth-service
      display-name: "Auth Service"
      paths-to-match: /api/v1/auth/**
    - group: patient-service
      display-name: "Patient Service"
      paths-to-match: /api/v1/patients/**
    - group: billing-service
      display-name: "Billing Service"
      paths-to-match: /api/v1/billing/**
    - group: admissions-service
      display-name: "Admissions Service"
      paths-to-match: /api/v1/attentions/**
    - group: ai-assistant-service
      display-name: "AI Assistant Service"
      paths-to-match: /api/v1/ai-assistant/**
    - group: suppliers-service
      display-name: "Suppliers Service"
      paths-to-match: /api/v1/suppliers/**
    - group: clients-service
      display-name: "Clients Service"
      paths-to-match: /api/v1/billing-service/health-providers/**

# Para personalizar la documentación
api:
  version: 1.0.0
  name: API-GATEWAY
  description: Microservicio para la gestión de peticiones a otros microservicios del sistema de clínica médica
  contact:
    name: Development Team
    email: dev@example.com
  license:
    name: Apache 2.0
    url: https://www.apache.org/licenses/LICENSE-2.0.html
